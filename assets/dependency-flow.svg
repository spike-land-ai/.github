<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 500" width="1200" height="500">
  <defs>
    <!-- Background gradient -->
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0d1117;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#111827;stop-opacity:1" />
    </linearGradient>

    <!-- Hub gradient -->
    <radialGradient id="hubGrad" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#1e3a5f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0d2137;stop-opacity:1" />
    </radialGradient>

    <!-- Source node color gradients -->
    <radialGradient id="grad-esbuild" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#f97316;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c2410c;stop-opacity:1" />
    </radialGradient>
    <radialGradient id="grad-shared" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#a855f7;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7e22ce;stop-opacity:1" />
    </radialGradient>
    <radialGradient id="grad-code" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
    </radialGradient>
    <radialGradient id="grad-react" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#06b6d4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0e7490;stop-opacity:1" />
    </radialGradient>
    <radialGradient id="grad-cli" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#22c55e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#15803d;stop-opacity:1" />
    </radialGradient>
    <radialGradient id="grad-esbuildmcp" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#b45309;stop-opacity:1" />
    </radialGradient>

    <!-- Consumer node gradients -->
    <radialGradient id="grad-spikeland" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#9d174d;stop-opacity:1" />
    </radialGradient>
    <radialGradient id="grad-backend" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3730a3;stop-opacity:1" />
    </radialGradient>
    <radialGradient id="grad-transpile" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#14b8a6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0f766e;stop-opacity:1" />
    </radialGradient>
    <radialGradient id="grad-codec" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
    </radialGradient>

    <!-- Arrow gradients - source to hub -->
    <linearGradient id="arrow-esbuild" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f97316;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#f97316;stop-opacity:0.3" />
    </linearGradient>
    <linearGradient id="arrow-shared" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#a855f7;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#a855f7;stop-opacity:0.3" />
    </linearGradient>
    <linearGradient id="arrow-code" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0.3" />
    </linearGradient>
    <linearGradient id="arrow-react" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#06b6d4;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:0.3" />
    </linearGradient>
    <linearGradient id="arrow-cli" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#22c55e;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#22c55e;stop-opacity:0.3" />
    </linearGradient>
    <linearGradient id="arrow-esbuildmcp" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#f59e0b;stop-opacity:0.3" />
    </linearGradient>

    <!-- Hub to consumer arrow gradients -->
    <linearGradient id="arrow-to-spikeland" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ec4899;stop-opacity:0.3" />
      <stop offset="100%" style="stop-color:#ec4899;stop-opacity:0.9" />
    </linearGradient>
    <linearGradient id="arrow-to-backend" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#6366f1;stop-opacity:0.3" />
      <stop offset="100%" style="stop-color:#6366f1;stop-opacity:0.9" />
    </linearGradient>
    <linearGradient id="arrow-to-transpile" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#14b8a6;stop-opacity:0.3" />
      <stop offset="100%" style="stop-color:#14b8a6;stop-opacity:0.9" />
    </linearGradient>
    <linearGradient id="arrow-to-code" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0.3" />
      <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0.9" />
    </linearGradient>

    <!-- Glow filters -->
    <filter id="glow-orange" x="-40%" y="-40%" width="180%" height="180%">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glow-purple" x="-40%" y="-40%" width="180%" height="180%">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glow-blue" x="-40%" y="-40%" width="180%" height="180%">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glow-hub" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="8" result="coloredBlur"/>
      <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glow-pink" x="-40%" y="-40%" width="180%" height="180%">
      <feGaussianBlur stdDeviation="5" result="coloredBlur"/>
      <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000000" flood-opacity="0.5"/>
    </filter>

    <!-- PR icon marker -->
    <marker id="arrowhead-spikeland" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#ec4899" opacity="0.9"/>
    </marker>
    <marker id="arrowhead-backend" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#6366f1" opacity="0.9"/>
    </marker>
    <marker id="arrowhead-transpile" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#14b8a6" opacity="0.9"/>
    </marker>
    <marker id="arrowhead-code" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#3b82f6" opacity="0.9"/>
    </marker>

    <marker id="arrowhead-src" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto">
      <path d="M0,0 L0,6 L6,3 z" fill="#94a3b8" opacity="0.5"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="500" fill="url(#bgGrad)"/>

  <!-- Subtle grid lines -->
  <g opacity="0.04" stroke="#ffffff" stroke-width="1">
    <line x1="0" y1="100" x2="1200" y2="100"/>
    <line x1="0" y1="200" x2="1200" y2="200"/>
    <line x1="0" y1="300" x2="1200" y2="300"/>
    <line x1="0" y1="400" x2="1200" y2="400"/>
    <line x1="200" y1="0" x2="200" y2="500"/>
    <line x1="400" y1="0" x2="400" y2="500"/>
    <line x1="600" y1="0" x2="600" y2="500"/>
    <line x1="800" y1="0" x2="800" y2="500"/>
    <line x1="1000" y1="0" x2="1000" y2="500"/>
  </g>

  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="'SF Mono', 'Fira Code', monospace" font-size="15" fill="#64748b" letter-spacing="3">DEPENDENCY CASCADE SYSTEM</text>

  <!-- ==================== FLOW ARROWS: Sources to Hub ==================== -->

  <!-- esbuild-wasm -> hub (top) -->
  <path d="M195,78 C320,78 340,175 460,215" stroke="url(#arrow-esbuild)" stroke-width="2" fill="none" stroke-dasharray="6,3" opacity="0.7"/>
  <!-- shared -> hub -->
  <path d="M195,148 C330,148 360,200 460,220" stroke="url(#arrow-shared)" stroke-width="2" fill="none" stroke-dasharray="6,3" opacity="0.7"/>
  <!-- code -> hub -->
  <path d="M195,218 C340,218 380,230 460,240" stroke="url(#arrow-code)" stroke-width="2" fill="none" stroke-dasharray="6,3" opacity="0.7"/>
  <!-- esbuild-wasm-mcp -> hub -->
  <path d="M195,288 C340,288 380,270 460,255" stroke="url(#arrow-esbuildmcp)" stroke-width="2" fill="none" stroke-dasharray="6,3" opacity="0.7"/>
  <!-- react-ts-worker -> hub -->
  <path d="M195,358 C330,358 360,295 460,270" stroke="url(#arrow-react)" stroke-width="2" fill="none" stroke-dasharray="6,3" opacity="0.7"/>
  <!-- spike-cli -> hub (bottom) -->
  <path d="M195,428 C320,428 340,320 460,280" stroke="url(#arrow-cli)" stroke-width="2" fill="none" stroke-dasharray="6,3" opacity="0.7"/>

  <!-- ==================== FLOW ARROWS: Hub to Consumers ==================== -->

  <!-- hub -> spike.land (top) -->
  <path d="M620,215 C720,180 800,130 950,108" stroke="url(#arrow-to-spikeland)" stroke-width="2.5" fill="none" marker-end="url(#arrowhead-spikeland)" opacity="0.85"/>
  <!-- hub -> spike-land-backend -->
  <path d="M620,240 C740,240 820,228 950,218" stroke="url(#arrow-to-backend)" stroke-width="2.5" fill="none" marker-end="url(#arrowhead-backend)" opacity="0.85"/>
  <!-- hub -> transpile -->
  <path d="M620,260 C740,280 820,318 950,328" stroke="url(#arrow-to-transpile)" stroke-width="2.5" fill="none" marker-end="url(#arrowhead-transpile)" opacity="0.85"/>
  <!-- hub -> code -->
  <path d="M620,270 C720,320 800,390 950,418" stroke="url(#arrow-to-code)" stroke-width="2.5" fill="none" marker-end="url(#arrowhead-code)" opacity="0.85"/>

  <!-- ==================== PR BADGE ICONS on outgoing arrows ==================== -->

  <!-- PR icon on hub->spike.land -->
  <g transform="translate(790,135)">
    <rect x="-16" y="-10" width="32" height="20" rx="4" fill="#1f2937" stroke="#ec4899" stroke-width="1" opacity="0.9"/>
    <text x="0" y="4" text-anchor="middle" font-family="'SF Mono', monospace" font-size="9" fill="#ec4899" font-weight="bold">PR</text>
  </g>

  <!-- PR icon on hub->backend -->
  <g transform="translate(790,232)">
    <rect x="-16" y="-10" width="32" height="20" rx="4" fill="#1f2937" stroke="#6366f1" stroke-width="1" opacity="0.9"/>
    <text x="0" y="4" text-anchor="middle" font-family="'SF Mono', monospace" font-size="9" fill="#6366f1" font-weight="bold">PR</text>
  </g>

  <!-- PR icon on hub->transpile -->
  <g transform="translate(790,313)">
    <rect x="-16" y="-10" width="32" height="20" rx="4" fill="#1f2937" stroke="#14b8a6" stroke-width="1" opacity="0.9"/>
    <text x="0" y="4" text-anchor="middle" font-family="'SF Mono', monospace" font-size="9" fill="#14b8a6" font-weight="bold">PR</text>
  </g>

  <!-- PR icon on hub->code -->
  <g transform="translate(790,400)">
    <rect x="-16" y="-10" width="32" height="20" rx="4" fill="#1f2937" stroke="#3b82f6" stroke-width="1" opacity="0.9"/>
    <text x="0" y="4" text-anchor="middle" font-family="'SF Mono', monospace" font-size="9" fill="#3b82f6" font-weight="bold">PR</text>
  </g>

  <!-- ==================== SOURCE NODES (Left Column) ==================== -->

  <!-- esbuild-wasm -->
  <g transform="translate(100,78)" filter="url(#glow-orange)">
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="url(#grad-esbuild)" opacity="0.15" stroke="#f97316" stroke-width="1.5"/>
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="none" stroke="#f97316" stroke-width="1.5" opacity="0.6"/>
    <circle cx="-68" cy="0" r="18" fill="#f97316" opacity="0.2"/>
    <text x="-68" y="5" text-anchor="middle" font-family="monospace" font-size="14" fill="#f97316" font-weight="bold">E</text>
    <text x="12" y="-8" text-anchor="middle" font-family="'SF Mono', monospace" font-size="11" fill="#fed7aa" font-weight="600">esbuild-wasm</text>
    <text x="12" y="10" text-anchor="middle" font-family="monospace" font-size="9" fill="#f97316" opacity="0.8">5 consumers</text>
  </g>

  <!-- shared -->
  <g transform="translate(100,148)" filter="url(#glow-purple)">
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="url(#grad-shared)" opacity="0.15" stroke="#a855f7" stroke-width="1.5"/>
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="none" stroke="#a855f7" stroke-width="1.5" opacity="0.6"/>
    <circle cx="-68" cy="0" r="18" fill="#a855f7" opacity="0.2"/>
    <text x="-68" y="5" text-anchor="middle" font-family="monospace" font-size="14" fill="#a855f7" font-weight="bold">S</text>
    <text x="12" y="-8" text-anchor="middle" font-family="'SF Mono', monospace" font-size="11" fill="#e9d5ff" font-weight="600">shared</text>
    <text x="12" y="10" text-anchor="middle" font-family="monospace" font-size="9" fill="#a855f7" opacity="0.8">4 consumers</text>
  </g>

  <!-- code -->
  <g transform="translate(100,218)" filter="url(#glow-blue)">
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="url(#grad-code)" opacity="0.15" stroke="#3b82f6" stroke-width="1.5"/>
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="none" stroke="#3b82f6" stroke-width="1.5" opacity="0.6"/>
    <circle cx="-68" cy="0" r="18" fill="#3b82f6" opacity="0.2"/>
    <text x="-68" y="5" text-anchor="middle" font-family="monospace" font-size="14" fill="#3b82f6" font-weight="bold">C</text>
    <text x="12" y="-8" text-anchor="middle" font-family="'SF Mono', monospace" font-size="11" fill="#bfdbfe" font-weight="600">code</text>
    <text x="12" y="10" text-anchor="middle" font-family="monospace" font-size="9" fill="#3b82f6" opacity="0.8">2 consumers</text>
  </g>

  <!-- esbuild-wasm-mcp -->
  <g transform="translate(100,288)">
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="url(#grad-esbuildmcp)" opacity="0.15" stroke="#f59e0b" stroke-width="1.5"/>
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="none" stroke="#f59e0b" stroke-width="1.5" opacity="0.6"/>
    <circle cx="-68" cy="0" r="18" fill="#f59e0b" opacity="0.2"/>
    <text x="-68" y="5" text-anchor="middle" font-family="monospace" font-size="11" fill="#f59e0b" font-weight="bold">EM</text>
    <text x="12" y="-8" text-anchor="middle" font-family="'SF Mono', monospace" font-size="10" fill="#fde68a" font-weight="600">esbuild-wasm-mcp</text>
    <text x="12" y="10" text-anchor="middle" font-family="monospace" font-size="9" fill="#f59e0b" opacity="0.8">2 consumers</text>
  </g>

  <!-- react-ts-worker -->
  <g transform="translate(100,358)">
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="url(#grad-react)" opacity="0.15" stroke="#06b6d4" stroke-width="1.5"/>
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="none" stroke="#06b6d4" stroke-width="1.5" opacity="0.6"/>
    <circle cx="-68" cy="0" r="18" fill="#06b6d4" opacity="0.2"/>
    <text x="-68" y="5" text-anchor="middle" font-family="monospace" font-size="12" fill="#06b6d4" font-weight="bold">R</text>
    <text x="12" y="-8" text-anchor="middle" font-family="'SF Mono', monospace" font-size="10" fill="#a5f3fc" font-weight="600">react-ts-worker</text>
    <text x="12" y="10" text-anchor="middle" font-family="monospace" font-size="9" fill="#06b6d4" opacity="0.8">1 consumer</text>
  </g>

  <!-- spike-cli -->
  <g transform="translate(100,428)">
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="url(#grad-cli)" opacity="0.15" stroke="#22c55e" stroke-width="1.5"/>
    <rect x="-95" y="-28" width="190" height="56" rx="28" fill="none" stroke="#22c55e" stroke-width="1.5" opacity="0.6"/>
    <circle cx="-68" cy="0" r="18" fill="#22c55e" opacity="0.2"/>
    <text x="-68" y="5" text-anchor="middle" font-family="monospace" font-size="12" fill="#22c55e" font-weight="bold">C</text>
    <text x="12" y="-8" text-anchor="middle" font-family="'SF Mono', monospace" font-size="11" fill="#bbf7d0" font-weight="600">spike-cli</text>
    <text x="12" y="10" text-anchor="middle" font-family="monospace" font-size="9" fill="#22c55e" opacity="0.8">1 consumer</text>
  </g>

  <!-- ==================== SECTION LABEL: Sources ==================== -->
  <text x="100" y="470" text-anchor="middle" font-family="'SF Mono', monospace" font-size="10" fill="#475569" letter-spacing="2">SOURCE PACKAGES</text>

  <!-- ==================== AUTOMATION HUB (Center) ==================== -->

  <!-- Hub outer glow ring -->
  <circle cx="540" cy="248" r="85" fill="none" stroke="#1d4ed8" stroke-width="1" opacity="0.2"/>
  <circle cx="540" cy="248" r="78" fill="none" stroke="#1d4ed8" stroke-width="1" opacity="0.15"/>

  <!-- Hub main body -->
  <circle cx="540" cy="248" r="70" fill="url(#hubGrad)" stroke="#2563eb" stroke-width="2" filter="url(#glow-hub)" opacity="0.95"/>

  <!-- Gear teeth pattern around hub -->
  <g transform="translate(540,248)">
    <g opacity="0.35" stroke="#60a5fa" stroke-width="1.5" fill="none">
      <line x1="0" y1="-70" x2="0" y2="-78"/>
      <line x1="35" y1="-60" x2="39" y2="-67"/>
      <line x1="60" y1="-35" x2="67" y2="-39"/>
      <line x1="70" y1="0" x2="78" y2="0"/>
      <line x1="60" y1="35" x2="67" y2="39"/>
      <line x1="35" y1="60" x2="39" y2="67"/>
      <line x1="0" y1="70" x2="0" y2="78"/>
      <line x1="-35" y1="60" x2="-39" y2="67"/>
      <line x1="-60" y1="35" x2="-67" y2="39"/>
      <line x1="-70" y1="0" x2="-78" y2="0"/>
      <line x1="-60" y1="-35" x2="-67" y2="-39"/>
      <line x1="-35" y1="-60" x2="-39" y2="-67"/>
    </g>
    <!-- Inner gear circle -->
    <circle cx="0" cy="0" r="22" fill="#1e3a5f" stroke="#3b82f6" stroke-width="1.5" opacity="0.9"/>
    <text x="0" y="-16" text-anchor="middle" font-family="'SF Mono', monospace" font-size="9" fill="#93c5fd" letter-spacing="1">CI/CD</text>
    <text x="0" y="-3" text-anchor="middle" font-family="monospace" font-size="16" fill="#60a5fa">⚙</text>
    <text x="0" y="18" text-anchor="middle" font-family="'SF Mono', monospace" font-size="8" fill="#93c5fd" letter-spacing="0.5">Changesets</text>
  </g>

  <!-- Hub label -->
  <text x="540" y="338" text-anchor="middle" font-family="'SF Mono', monospace" font-size="10" fill="#64748b" letter-spacing="2">AUTOMATION HUB</text>

  <!-- Auto-merge label -->
  <g transform="translate(540,360)">
    <rect x="-45" y="-10" width="90" height="20" rx="4" fill="#0f172a" stroke="#1e40af" stroke-width="1" opacity="0.8"/>
    <text x="0" y="4" text-anchor="middle" font-family="'SF Mono', monospace" font-size="8" fill="#60a5fa">auto-merge enabled</text>
  </g>

  <!-- ==================== CONSUMER NODES (Right Column) ==================== -->

  <!-- spike.land (main platform) -->
  <g transform="translate(1060,108)" filter="url(#glow-pink)">
    <rect x="-100" y="-35" width="200" height="70" rx="12" fill="#1f0a1a" stroke="#ec4899" stroke-width="2" opacity="0.95"/>
    <rect x="-100" y="-35" width="200" height="70" rx="12" fill="url(#grad-spikeland)" opacity="0.1"/>
    <!-- "main platform" badge -->
    <rect x="-40" y="-30" width="80" height="16" rx="8" fill="#9d174d" opacity="0.8"/>
    <text x="0" y="-18" text-anchor="middle" font-family="'SF Mono', monospace" font-size="8" fill="#fce7f3" letter-spacing="1">MAIN PLATFORM</text>
    <text x="0" y="5" text-anchor="middle" font-family="'SF Mono', monospace" font-size="14" fill="#f9a8d4" font-weight="700">spike.land</text>
    <text x="0" y="23" text-anchor="middle" font-family="monospace" font-size="9" fill="#ec4899" opacity="0.8">Next.js 16 · AWS ECS</text>
  </g>

  <!-- spike-land-backend -->
  <g transform="translate(1060,218)">
    <rect x="-100" y="-32" width="200" height="64" rx="12" fill="#0f0f2a" stroke="#6366f1" stroke-width="1.5" opacity="0.95"/>
    <rect x="-100" y="-32" width="200" height="64" rx="12" fill="url(#grad-backend)" opacity="0.08"/>
    <text x="0" y="-10" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#a5b4fc" font-weight="600">spike-land-backend</text>
    <text x="0" y="10" text-anchor="middle" font-family="monospace" font-size="9" fill="#6366f1" opacity="0.8">Cloudflare Workers · Hono</text>
    <text x="0" y="26" text-anchor="middle" font-family="monospace" font-size="9" fill="#818cf8" opacity="0.6">Durable Objects</text>
  </g>

  <!-- transpile -->
  <g transform="translate(1060,328)">
    <rect x="-100" y="-32" width="200" height="64" rx="12" fill="#0a1f1e" stroke="#14b8a6" stroke-width="1.5" opacity="0.95"/>
    <rect x="-100" y="-32" width="200" height="64" rx="12" fill="url(#grad-transpile)" opacity="0.08"/>
    <text x="0" y="-10" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#5eead4" font-weight="600">transpile</text>
    <text x="0" y="10" text-anchor="middle" font-family="monospace" font-size="9" fill="#14b8a6" opacity="0.8">Cloudflare Workers</text>
    <text x="0" y="26" text-anchor="middle" font-family="monospace" font-size="9" fill="#2dd4bf" opacity="0.6">esbuild-wasm at edge</text>
  </g>

  <!-- code -->
  <g transform="translate(1060,418)">
    <rect x="-100" y="-32" width="200" height="64" rx="12" fill="#0a0f1e" stroke="#3b82f6" stroke-width="1.5" opacity="0.95"/>
    <rect x="-100" y="-32" width="200" height="64" rx="12" fill="url(#grad-codec)" opacity="0.08"/>
    <text x="0" y="-10" text-anchor="middle" font-family="'SF Mono', monospace" font-size="12" fill="#93c5fd" font-weight="600">code</text>
    <text x="0" y="10" text-anchor="middle" font-family="monospace" font-size="9" fill="#3b82f6" opacity="0.8">Browser · Vite</text>
    <text x="0" y="26" text-anchor="middle" font-family="monospace" font-size="9" fill="#60a5fa" opacity="0.6">Monaco editor</text>
  </g>

  <!-- ==================== SECTION LABEL: Consumers ==================== -->
  <text x="1060" y="470" text-anchor="middle" font-family="'SF Mono', monospace" font-size="10" fill="#475569" letter-spacing="2">CONSUMERS</text>

  <!-- ==================== LEGEND ==================== -->
  <g transform="translate(380,460)">
    <rect x="-10" y="-15" width="220" height="30" rx="6" fill="#0d1117" stroke="#1e293b" stroke-width="1"/>
    <!-- Dashed line legend -->
    <line x1="10" y1="0" x2="45" y2="0" stroke="#64748b" stroke-width="1.5" stroke-dasharray="5,3"/>
    <text x="55" y="4" font-family="'SF Mono', monospace" font-size="9" fill="#64748b">publish trigger</text>
    <!-- Solid line legend -->
    <line x1="130" y1="0" x2="165" y2="0" stroke="#64748b" stroke-width="2"/>
    <polygon points="165,0 160,-4 160,4" fill="#64748b"/>
    <text x="175" y="4" font-family="'SF Mono', monospace" font-size="9" fill="#64748b">auto-PR</text>
  </g>

  <!-- ==================== FLOW ANIMATION DOTS ==================== -->
  <!-- Animated dots flowing along paths (decorative) -->
  <circle r="3" fill="#f97316" opacity="0.9">
    <animateMotion dur="3s" repeatCount="indefinite" path="M195,78 C320,78 340,175 460,215"/>
    <animate attributeName="opacity" values="0;1;0" dur="3s" repeatCount="indefinite"/>
  </circle>
  <circle r="3" fill="#a855f7" opacity="0.9">
    <animateMotion dur="3.5s" repeatCount="indefinite" path="M195,148 C330,148 360,200 460,220"/>
    <animate attributeName="opacity" values="0;1;0" dur="3.5s" repeatCount="indefinite"/>
  </circle>
  <circle r="3" fill="#3b82f6" opacity="0.9">
    <animateMotion dur="4s" repeatCount="indefinite" path="M195,218 C340,218 380,230 460,240"/>
    <animate attributeName="opacity" values="0;1;0" dur="4s" repeatCount="indefinite"/>
  </circle>
  <circle r="3" fill="#f59e0b" opacity="0.9">
    <animateMotion dur="2.8s" repeatCount="indefinite" path="M195,288 C340,288 380,270 460,255"/>
    <animate attributeName="opacity" values="0;1;0" dur="2.8s" repeatCount="indefinite"/>
  </circle>
  <circle r="3" fill="#06b6d4" opacity="0.9">
    <animateMotion dur="4.2s" repeatCount="indefinite" path="M195,358 C330,358 360,295 460,270"/>
    <animate attributeName="opacity" values="0;1;0" dur="4.2s" repeatCount="indefinite"/>
  </circle>
  <circle r="3" fill="#22c55e" opacity="0.9">
    <animateMotion dur="3.8s" repeatCount="indefinite" path="M195,428 C320,428 340,320 460,280"/>
    <animate attributeName="opacity" values="0;1;0" dur="3.8s" repeatCount="indefinite"/>
  </circle>

  <!-- Outgoing animated dots -->
  <circle r="3.5" fill="#ec4899" opacity="0.9">
    <animateMotion dur="2.5s" repeatCount="indefinite" path="M620,215 C720,180 800,130 950,108"/>
    <animate attributeName="opacity" values="0;1;0" dur="2.5s" repeatCount="indefinite"/>
  </circle>
  <circle r="3.5" fill="#6366f1" opacity="0.9">
    <animateMotion dur="2.2s" repeatCount="indefinite" path="M620,240 C740,240 820,228 950,218"/>
    <animate attributeName="opacity" values="0;1;0" dur="2.2s" repeatCount="indefinite"/>
  </circle>
  <circle r="3.5" fill="#14b8a6" opacity="0.9">
    <animateMotion dur="2.8s" repeatCount="indefinite" path="M620,260 C740,280 820,318 950,328"/>
    <animate attributeName="opacity" values="0;1;0" dur="2.8s" repeatCount="indefinite"/>
  </circle>
  <circle r="3.5" fill="#3b82f6" opacity="0.9">
    <animateMotion dur="3.2s" repeatCount="indefinite" path="M620,270 C720,320 800,390 950,418"/>
    <animate attributeName="opacity" values="0;1;0" dur="3.2s" repeatCount="indefinite"/>
  </circle>

</svg>
